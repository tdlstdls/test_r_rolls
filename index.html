<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=800, initial-scale=0.5, minimum-scale=0.01,user-scalable=yes">
    <title>R_Rolls</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
</head>
<body>
    <div class="container">
        
        <div id="description-content" class="description-box hidden" style="font-size: 0.85em; line-height: 1.6;"></div>

        <div id="main-controls" class="controls" style="display: flex; flex-wrap: wrap; align-items: center; gap: 10px; padding: 5px; margin-bottom: 5px;">
            <div id="seed-input-container" class="control-group hidden" style="margin-bottom: 0; display: flex; align-items: center; gap: 5px;">
                <label for="seed" style="font-size:0.9em;">Seed:</label>
                <input type="number" id="seed" placeholder="Seed" value="12345" style="width:100px; font-size:0.9em;" onkeydown="if(event.key==='Enter') applySeedInput()">
                <button onclick="applySeedInput()" style="padding: 1px 6px; font-size: 11px;">OK</button>
                <button onclick="copySeedToClipboard()" class="secondary" style="padding: 1px 6px; font-size: 11px;">Copy</button>
                <button onclick="cancelSeedInput()" class="secondary" style="padding: 1px 6px; font-size: 11px;">×</button>
            </div>
            <div class="control-group hidden" id="sim-control-wrapper" style="margin-bottom: 0; display: flex; align-items: center; flex-wrap: wrap; width: 100%;">
                <div style="display: flex; align-items: center; width: 100%; gap: 5px; flex-wrap: wrap;">
                    <label for="sim-config" style="font-size:0.9em;">ルート:</label>
                    <input type="text" id="sim-config" placeholder="e.g. 1006 4 942 11g" onchange="updateUrlParams(); resetAndGenerateTable();" style="flex-grow: 1; min-width: 150px;">
                    <button onclick="backSimConfig()" style="font-size: 11px; min-width: 40px;">Back</button>
                    <button onclick="clearSimConfig()" style="font-size: 11px;">Clear</button>
                    <label style="font-size: 0.8em; margin-left: 5px;">MaxPlat:</label>
                    <input type="number" id="sim-max-plat" value="0" min="0" max="5" style="width: 35px; font-size: 0.9em; padding: 1px 2px;">
                    <label style="font-size: 0.8em; margin-left: 2px;">MaxG:</label>
                    <input type="number" id="sim-max-guar" value="0" min="0" max="5" style="width: 35px; font-size: 0.9em; padding: 1px 2px;">
                    <button id="toggle-txt-btn" onclick="toggleTxtMode()" style="font-size: 11px;">Txt</button>
                    <button id="copy-txt-btn" onclick="copyTxtToClipboard()" class="hidden" style="margin-left: 2px; font-size: 11px;">Copy</button>
                </div>
                <div id="sim-error-msg" style="width: 100%; text-align: left; margin-top: 3px; margin-left: 45px; min-height: 1em;"></div>
            </div>
        </div>
        <div id="rolls-table-container"><div class="table-spacer"></div></div>
        <div id="schedule-container" class="hidden"></div>
    </div>
    
    <script src="data/cats.js"></script>
    <script src="data/gacha_series.js"></script>
    <script src="data/limited_cats.js"></script>

    <script src="core/logic_xorshift.js"></script>
    <script src="core/logic_rarity.js"></script>
    <script src="core/logic_duplicate.js"></script>
    <script src="core/logic_reroll.js"></script>
    <script src="core/logic_roll_core.js"></script>
    <script src="core/logic_uber.js"></script>
    <script src="core/logic_sequential.js"></script>

    <script src="sim_config_helpers.js"></script>
    <script src="sim_utils.js"></script>
    <script src="mode_sim/sim_engine_core.js?v=2"></script>
    <script src="mode_sim/sim_engine_config.js"></script>
    <script src="mode_sim/sim_engine_search.js"></script>
    <script src="sim_ui_logic.js"></script>
    <script src="mode_skd/schedule_logic.js"></script>
    <script src="mode_skd/view_schedule_utils.js"></script>
    <script src="mode_skd/view_schedule_gantt.js"></script>
    <script src="mode_skd/view_schedule_table.js"></script>
    <script src="mode_skd/view_schedule_editor.js"></script>
    <script src="data/data_loader.js"></script>
    <script src="core/url_manager.js"></script>
    <script src="gacha_selector.js"></script>
    
    <script src="mode_find/view_forecast_logic.js"></script>
    <script src="mode_find/view_forecast_render.js"></script>
    <script src="mode_find/view_forecast_actions.js"></script>
    <script src="mode_find/view_forecast_core.js"></script>

    <script src="mode_sim/view_txt_route.js"></script>
    <script src="view_master.js"></script>
    <script src="view_analysis.js"></script>
    <script src="view_header.js"></script>
    <script src="common_ui/view_cell_renderer.js"></script>
    <script src="view_table_data.js"></script>
    <script src="view_table_highlight_config.js"></script>
    <script src="view_table_highlight_normal.js"></script>
    <script src="view_table_highlight_guaranteed.js"></script>
    <script src="view_table_highlight.js"></script>
    <script src="view_table_dom.js"></script>
    <script src="view_table_headers.js"></script>
    <script src="view_table_renderer.js"></script>
    <script src="view_table_events.js"></script>
    <script src="view_table_debug.js"></script>
    <script src="common_ui/view_table.js"></script>
    <script src="view_description.js"></script>
    <script src="common_ui/ui_globals.js"></script>
    <script src="ui_schedule_handler.js"></script>
    <script src="ui_schedule_editor_handler.js"></script>
    <script src="common_ui/ui_modal_service.js"></script>
    <script src="mode_find/ui_target_view.js"></script>
    <script src="mode_find/ui_target_search_view.js"></script>
    <script src="mode_find/ui_target_search_logic.js"></script>
    <script src="mode_find/ui_target_manager.js"></script>
    <script src="ui_table_handler.js"></script>
    <script src="core/ui_mode_logic.js"></script>
    <script src="ui_seed_logic.js"></script>
    <script src="ui_refresh_logic.js"></script>
    <script src="ui_display_logic.js"></script>
    <script src="ui_cell_event.js"></script>
    <script src="core/main.js"></script>
</body>
</html>